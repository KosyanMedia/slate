
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
    <link rel="icon" type="image/png" href="https://www.travelpayouts.com/favicon-32x32.png?v4" sizes="32x32">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5XMSVPP');</script>
<!-- End Google Tag Manager -->
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;php&quot;,&quot;python&quot;]">
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5XMSVPP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="ruby">Ruby</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#about-api" class="toc-h1 toc-link" data-title="about-api">About API</a>
          </li>
          <li>
            <a href="#flight-data-access-api-v1" class="toc-h1 toc-link" data-title="flight-data-access-api-v1">Flight Data Access API v1</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cheapest-tickets" class="toc-h2 toc-link" data-title="cheapest-tickets">Cheapest tickets</a>
                  </li>
                  <li>
                    <a href="#non-stop-tickets" class="toc-h2 toc-link" data-title="non-stop-tickets">Non-stop tickets</a>
                  </li>
                  <li>
                    <a href="#tickets-for-each-day-of-a-month" class="toc-h2 toc-link" data-title="tickets-for-each-day-of-a-month">Tickets for each day of a month</a>
                  </li>
                  <li>
                    <a href="#cheapest-tickets-grouped-by-month" class="toc-h2 toc-link" data-title="cheapest-tickets-grouped-by-month">Cheapest tickets grouped by month</a>
                  </li>
                  <li>
                    <a href="#popular-airline-routes" class="toc-h2 toc-link" data-title="popular-airline-routes">Popular airline routes</a>
                  </li>
                  <li>
                    <a href="#the-popular-directions-from-a-city" class="toc-h2 toc-link" data-title="the-popular-directions-from-a-city">The popular directions from a city</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#flight-data-access-api-v2" class="toc-h1 toc-link" data-title="flight-data-access-api-v2">Flight Data Access API v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-prices-for-the-airline-tickets" class="toc-h2 toc-link" data-title="the-prices-for-the-airline-tickets">The prices for the airline tickets</a>
                  </li>
                  <li>
                    <a href="#the-calendar-of-prices-for-a-month" class="toc-h2 toc-link" data-title="the-calendar-of-prices-for-a-month">The calendar of prices for a month</a>
                  </li>
                  <li>
                    <a href="#the-prices-for-the-alternative-directions" class="toc-h2 toc-link" data-title="the-prices-for-the-alternative-directions">The prices for the alternative directions</a>
                  </li>
                  <li>
                    <a href="#the-calendar-of-prices-for-a-week" class="toc-h2 toc-link" data-title="the-calendar-of-prices-for-a-week">The calendar of prices for a week</a>
                  </li>
                  <li>
                    <a href="#the-definition-of-a-user-39-s-location-by-ip-address" class="toc-h2 toc-link" data-title="the-definition-of-a-user-s-location-by-ip-address">The definition of a user's location by IP address</a>
                  </li>
                  <li>
                    <a href="#special-offers" class="toc-h2 toc-link" data-title="special-offers">Special offers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#some-data-in-json-format" class="toc-h1 toc-link" data-title="some-data-in-json-format">Some data in JSON format</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#data-of-countries-in-json-format" class="toc-h2 toc-link" data-title="data-of-countries-in-json-format">Data of countries in JSON format</a>
                  </li>
                  <li>
                    <a href="#city-data-in-json-format" class="toc-h2 toc-link" data-title="city-data-in-json-format">City data in JSON format</a>
                  </li>
                  <li>
                    <a href="#airport-data-in-json-format" class="toc-h2 toc-link" data-title="airport-data-in-json-format">Airport data in json format</a>
                  </li>
                  <li>
                    <a href="#airline-data-in-json-format" class="toc-h2 toc-link" data-title="airline-data-in-json-format">Airline data in JSON format</a>
                  </li>
                  <li>
                    <a href="#alliance-data-in-json-format" class="toc-h2 toc-link" data-title="alliance-data-in-json-format">Alliance data in JSON format</a>
                  </li>
                  <li>
                    <a href="#airplane-data-in-json-format" class="toc-h2 toc-link" data-title="airplane-data-in-json-format">Airplane data in json format</a>
                  </li>
                  <li>
                    <a href="#routes-list-in-json-format" class="toc-h2 toc-link" data-title="routes-list-in-json-format">Routes list in json format</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#flights-search-api-real-time-and-multi-city-search" class="toc-h1 toc-link" data-title="flights-search-api-real-time-and-multi-city-search">Flights search API: Real-time and multi-city search</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ccess-to-the-flights-search-api" class="toc-h2 toc-link" data-title="ccess-to-the-flights-search-api">–êccess to the flights search API</a>
                  </li>
                  <li>
                    <a href="#roundtrip" class="toc-h2 toc-link" data-title="roundtrip">Roundtrip</a>
                  </li>
                  <li>
                    <a href="#one-way" class="toc-h2 toc-link" data-title="one-way">One way</a>
                  </li>
                  <li>
                    <a href="#open-jaw" class="toc-h2 toc-link" data-title="open-jaw">Open jaw</a>
                  </li>
                  <li>
                    <a href="#getting-search-results" class="toc-h2 toc-link" data-title="getting-search-results">Getting search results</a>
                  </li>
                  <li>
                    <a href="#additional-information-in-the-response" class="toc-h2 toc-link" data-title="additional-information-in-the-response">Additional Information in the response</a>
                  </li>
                  <li>
                    <a href="#how-to-get-a-link-to-the-agency-website" class="toc-h2 toc-link" data-title="how-to-get-a-link-to-the-agency-website">How to get a link to the agency website</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.travelpayouts.com/'>Sign Up for a Developer Token</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='about-api'>About API</h1>
<p>Travelpayouts Data API ‚Äì the way to get travel insights for your site or blog. You can get flight price trends and find popular destinations for your customers.</p>

<p>To access the API you should be <a href="https://travelpayouts.com/">registered</a> in our travel affiliate program.</p>

<aside class="notice">
Dear partners! Attention, the data is transferred from the cache, so it is recommended to use them to generate static pages.
</aside>

<p>To access the API you must pass your token in the X-Access-Token header or in the token parameter. To obtain a token for the Data Access API, go to <a href="http://www.travelpayouts.com/developers/api">http://www.travelpayouts.com/developers/api</a>.</p>
<h1 id='flight-data-access-api-v1'>Flight Data Access API v1</h1>
<p>Travelpayouts Flight Data API ‚Äì the way to get travel insights for your site or blog. You can get flight price trends and find popular destinations for your customers.</p>

<aside class="notice">
Dear partners! Attention, the data is transferred from the cache, so it is recommended to use them to generate static pages.
</aside>

<p>To access the API you must pass your token in the X-Access-Token header or in the token parameter. To obtain a token for the Data Access API, go to https://www.travelpayouts.com/developers/api.</p>

<p>Dates are accepted in the formats YYYY-MM and YYYY-MM-DD.</p>

<p>The server response is always sent in JSON format with the following structure:</p>

<ul>
<li><strong>success</strong> ‚Äì true for a successful request, false in case of errors;</li>
<li><strong>data</strong> ‚Äì a result of the request; in case of an error is equal to null;</li>
<li><strong>error</strong> ‚Äì short description of the error that prevented request completion; for a successful request is equal to null.</li>
</ul>

<p>Dates and times are given in UTC, formatted according to <a href="https://ru.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. Prices are given in rubles as of when the ticket is put in the search results. It is not recommended to use expired prices (the approximate expiration date is given in the value of the expires_at parameter).</p>

<aside class="warning">
Important. We strongly urge receiving data in compressed GZIP format, which saves a significant amount of time in receiving the response. To get data in compressed form, send the header Accept-Encoding: gzip, deflate.
</aside>

<p>To obtain access to the API for searching for plane tickets and hotels, <a href="https://support.travelpayouts.com/hc/en-us/requests/new">send a request</a>.</p>
<h2 id='cheapest-tickets'>Cheapest tickets</h2>
<p>Returns the cheapest non-stop tickets, as well as tickets with 1 or 2 stops, for the selected route with departure/return date filters.</p>

<p><a href="https://app.getpostman.com/run-collection/a2e83057d1fc995298dd"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v1/prices/cheap?origin=MOW&amp;destination=HKT&amp;depart_date=2017-11&amp;return_date=2017-12'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v1/prices/cheap?origin=MOW&amp;destination=HKT&amp;depart_date=2017-11&amp;return_date=2017-12"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v1/prices/cheap?origin=MOW&amp;destination=HKT&amp;depart_date=2017-11&amp;return_date=2017-12"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v1/prices/cheap"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"MOW"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"HKT"</span><span class="p">,</span><span class="s">"depart_date"</span><span class="p">:</span><span class="s">"2017-11"</span><span class="p">,</span><span class="s">"return_date"</span><span class="p">:</span><span class="s">"2017-12"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request'>Request</h3>
<p><code>GET https://api.travelpayouts.com/v1/prices/cheap?origin=MOW&amp;destination=HKT&amp;depart_date=2016-11&amp;return_date=2016-12&amp;token=PutHereYourToken</code></p>

<aside class="warning">
Important Old dates may be specified in a query. No error will be generated, but no data will be returned.
</aside>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of the departure city. IATA code is shown by uppercase letters, for example, MOW.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of the destination city (for all routes, enter &quot;-&quot;). IATA code is shown by uppercase letters, for example, MOW.</td>
</tr>
<tr>
<td>depart_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of departure (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>return_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of return (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>page</td>
<td>-</td>
<td>Optional parameter, is used to display the found data (by default the page displays 100 found prices. If the <strong>destination</strong> isn&#39;t selected, there can be more data. In this case, use the <strong>page</strong>, to display the next set of data, for example, page=2).</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
<tr>
<td>currency</td>
<td>RUB</td>
<td>Currency of prices</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"HKT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">35443</span><span class="p">,</span><span class="w">
            </span><span class="s2">"airline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"flight_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">571</span><span class="p">,</span><span class="w">
            </span><span class="s2">"departure_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-09T21:20:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"return_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-15T12:40:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-08T18:30:40Z"</span><span class="w">
        </span><span class="p">}}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0, 1, 2</td>
<td>-</td>
<td>Sequence number in the search results.</td>
</tr>
<tr>
<td>price</td>
<td>-</td>
<td>Ticket price (in the currency specified in the currency parameter).</td>
</tr>
<tr>
<td>airline</td>
<td>-</td>
<td>IATA code of the airline operating the flight.</td>
</tr>
<tr>
<td>flight_number</td>
<td>-</td>
<td>Flight number.</td>
</tr>
<tr>
<td>departure_at</td>
<td>-</td>
<td>Departure Date.</td>
</tr>
<tr>
<td>return_at</td>
<td>-</td>
<td>Return Date.</td>
</tr>
<tr>
<td>expires_at</td>
<td>-</td>
<td>Date on which the found price expires (UTC+0).</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h2 id='non-stop-tickets'>Non-stop tickets</h2>
<p>Returns the cheapest non-stop tickets for the selected route with departure/return date filters.</p>

<p><a href="https://app.getpostman.com/run-collection/a2e83057d1fc995298dd"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v1/prices/cheap?origin=MOW&amp;destination=HKT&amp;depart_date=2017-11&amp;return_date=2017-12'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v1/prices/direct?origin=MOW&amp;destination=LED&amp;depart_date=2017-11&amp;return_date=2017-12"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v1/prices/direct?origin=MOW&amp;destination=LED&amp;depart_date=2017-11&amp;return_date=2017-12"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v1/prices/direct"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"MOW"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"LED"</span><span class="p">,</span><span class="s">"depart_date"</span><span class="p">:</span><span class="s">"2017-11"</span><span class="p">,</span><span class="s">"return_date"</span><span class="p">:</span><span class="s">"2017-12"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-2'>Request</h3>
<p><code>GET https://api.travelpayouts.com/v1/prices/direct?origin=MOW&amp;destination=LED&amp;depart_date=2016-11&amp;return_date=2016-12&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-2'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of departure city. IATA code is shown by uppercase letters, for example, MOW.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of destination city (for all routes, enter ‚Äú-‚Äù). IATA code is shown by uppercase letters, for example, MOW.</td>
</tr>
<tr>
<td>depart_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of departure (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>return_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of return (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
<tr>
<td>currency</td>
<td>RUB</td>
<td>Currency of prices</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"LED"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4363</span><span class="p">,</span><span class="w">
                </span><span class="s2">"airline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"flight_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">369</span><span class="p">,</span><span class="w">
                </span><span class="s2">"departure_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-27T11:35:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"return_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-04T16:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-08T20:21:46Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>-</td>
<td>Ticket price (in specified currency).</td>
</tr>
<tr>
<td>airline</td>
<td>-</td>
<td>IATA code of airline operating the flight.</td>
</tr>
<tr>
<td>flight_number</td>
<td>-</td>
<td>Flight number.</td>
</tr>
<tr>
<td>departure_at</td>
<td>-</td>
<td>Departure date.</td>
</tr>
<tr>
<td>return_at</td>
<td>-</td>
<td>Return date.</td>
</tr>
<tr>
<td>expires_at</td>
<td>-</td>
<td>Date on which the found price expires (UTC+0).</td>
</tr>
</tbody></table>
<h2 id='tickets-for-each-day-of-a-month'>Tickets for each day of a month</h2>
<p>Returns the cheapest non-stop, one-stop, and two-stop flights for the selected route for each day of the selected month.</p>

<p><a href="https://app.getpostman.com/run-collection/a2e83057d1fc995298dd"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v1/prices/calendar?depart_date=2017-11&amp;origin=MOW&amp;destination=BCN&amp;calendar_type=departure_date&amp;currency=USD'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v1/prices/calendar?depart_date=2017-11&amp;origin=MOW&amp;destination=BCN&amp;calendar_type=departure_date&amp;currency=USD"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v1/prices/calendar?depart_date=2017-11&amp;origin=MOW&amp;destination=BCN&amp;calendar_type=departure_date&amp;currency=USD"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v1/prices/calendar"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"depart_date"</span><span class="p">:</span><span class="s">"2017-11"</span><span class="p">,</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"MOW"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"BCN"</span><span class="p">,</span><span class="s">"calendar_type"</span><span class="p">:</span><span class="s">"departure_date"</span><span class="p">,</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"USD"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-3'>Request</h3>
<p><code>GET https://api.travelpayouts.com/v1/prices/calendar?depart_date=2016-11&amp;origin=MOW&amp;destination=BCN&amp;calendar_type=departure_date&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-3'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of departure city. IATA code is shown by uppercase letters, for example MOW.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of destination city. IATA code is shown by uppercase letters, for example MOW.</td>
</tr>
<tr>
<td>departure_date</td>
<td>-</td>
<td>Day or month of departure (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>return_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of return (yyyy-mm-dd or yyyy-mm). <strong>Pay attention!</strong> If the return_date is not specified, you will get the &quot;One way&quot; flights.</td>
</tr>
<tr>
<td>calendar_type</td>
<td>-</td>
<td>Field used to build the calendar. Equal to either: departure_date or return_date</td>
</tr>
<tr>
<td>length <em>(optional)</em></td>
<td>-</td>
<td>Length of stay in the destination city.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
<tr>
<td>currency</td>
<td>RUB</td>
<td>Currency of prices</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"2015-06-01"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">12449</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"airline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PS"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"flight_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">576</span><span class="p">,</span><span class="w">
            </span><span class="s2">"departure_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01T06:35:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"return_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-01T13:30:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-07T12:34:14Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of departure city.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of destination city.</td>
</tr>
<tr>
<td>price</td>
<td>-</td>
<td>Ticket price in the specified currency.</td>
</tr>
<tr>
<td>transfers</td>
<td>-</td>
<td>Number of stops.</td>
</tr>
<tr>
<td>airline</td>
<td>-</td>
<td>IATA code of airline.</td>
</tr>
<tr>
<td>flight_number</td>
<td>-</td>
<td>Flight number.</td>
</tr>
<tr>
<td>departure_at</td>
<td>-</td>
<td>Departure Date.</td>
</tr>
<tr>
<td>return_at</td>
<td>-</td>
<td>Return Date.</td>
</tr>
<tr>
<td>expires_at</td>
<td>-</td>
<td>When the found price expires (UTC+0).</td>
</tr>
</tbody></table>
<h2 id='cheapest-tickets-grouped-by-month'>Cheapest tickets grouped by month</h2>
<p>Returns the cheapest non-stop tickets, as well as tickets with 1 or 2 stops, for the selected route grouped by month.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET http://api.travelpayouts.com/v1/prices/monthly?currency=USD&amp;origin=MOW&amp;destination=HKT&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-4'>Request parameters</h3>
<blockquote>
<p>Example of request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'http://api.travelpayouts.com/v1/prices/monthly?currency=USD&amp;origin=MOW&amp;destination=HKT'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"http://api.travelpayouts.com/v1/prices/monthly?currency=USD&amp;origin=MOW&amp;destination=HKT"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"http://api.travelpayouts.com/v1/prices/monthly?currency=USD&amp;origin=MOW&amp;destination=HKT"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"http://api.travelpayouts.com/v1/prices/monthly"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"MOW"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"BCN"</span><span class="p">,</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"USD"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of departure city. IATA code is shown by uppercase letters, for example MOW.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of destination city. IATA code is shown by uppercase letters, for example MOW.</td>
</tr>
<tr>
<td>currency</td>
<td>RUB</td>
<td>Currency of prices.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
   </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"2019-07"</span><span class="p">:{</span><span class="w">  
         </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">166</span><span class="p">,</span><span class="w">
         </span><span class="s2">"transfers"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"airline"</span><span class="p">:</span><span class="s2">"W6"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"flight_number"</span><span class="p">:</span><span class="mi">7898</span><span class="p">,</span><span class="w">
         </span><span class="s2">"departure_at"</span><span class="p">:</span><span class="s2">"2019-07-31T14:10:00Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"return_at"</span><span class="p">:</span><span class="s2">"2019-08-31T19:15:00Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="s2">"2019-07-27T03:07:40Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"error"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
   </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='response-parameters'>Response parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>IATA code of departure city.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>IATA code of destination city.</td>
</tr>
<tr>
<td>price</td>
<td>-</td>
<td>Ticket price in the specified currency.</td>
</tr>
<tr>
<td>transfers</td>
<td>-</td>
<td>Number of stops.</td>
</tr>
<tr>
<td>airline</td>
<td>-</td>
<td>IATA code of airline.</td>
</tr>
<tr>
<td>flight_number</td>
<td>-</td>
<td>Flight number.</td>
</tr>
<tr>
<td>departure_at</td>
<td>-</td>
<td>Departure Date.</td>
</tr>
<tr>
<td>return_at</td>
<td>-</td>
<td>Return Date.</td>
</tr>
<tr>
<td>expires_at</td>
<td>-</td>
<td>When the found price expires (UTC+0).</td>
</tr>
<tr>
<td>currency</td>
<td>-</td>
<td>Currency of prices.</td>
</tr>
</tbody></table>
<h2 id='popular-airline-routes'>Popular airline routes</h2>
<p>Returns routes for which an airline operates flights, sorted by popularity.</p>

<p><a href="https://app.getpostman.com/run-collection/a2e83057d1fc995298dd"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v1/airline-directions?airline_code=SU&amp;limit=10'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v1/airline-directions?airline_code=SU&amp;limit=10"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v1/airline-directions?airline_code=SU&amp;limit=10"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v1/airline-directions"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"airline_code"</span><span class="p">:</span><span class="s">"SU"</span><span class="p">,</span><span class="s">"limit"</span><span class="p">:</span><span class="s">"10"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-4'>Request</h3>
<p><code>GET https://api.travelpayouts.com/v1/airline-directions?airline_code=SU&amp;limit=10&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-5'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>airline_code</td>
<td>-</td>
<td>IATA code of airline.</td>
</tr>
<tr>
<td>limit</td>
<td>-</td>
<td>Records limit per page. Default value is 100. Not less than 1000.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"MOW-BKK"</span><span class="p">:</span><span class="w"> </span><span class="mi">187491</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-BCN"</span><span class="p">:</span><span class="w"> </span><span class="mi">113764</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-PAR"</span><span class="p">:</span><span class="w"> </span><span class="mi">91889</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-NYC"</span><span class="p">:</span><span class="w"> </span><span class="mi">77417</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-PRG"</span><span class="p">:</span><span class="w"> </span><span class="mi">71449</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-ROM"</span><span class="p">:</span><span class="w"> </span><span class="mi">67190</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-TLV"</span><span class="p">:</span><span class="w"> </span><span class="mi">62132</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-HKT"</span><span class="p">:</span><span class="w"> </span><span class="mi">58549</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-GOI"</span><span class="p">:</span><span class="w"> </span><span class="mi">47341</span><span class="p">,</span><span class="w">
        </span><span class="s2">"MOW-IST"</span><span class="p">:</span><span class="w"> </span><span class="mi">45553</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"rub"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='description-of-response'>Description of response</h3>
<p>Returns a list of popular routes of an airline, sorted by popularity.</p>
<h2 id='the-popular-directions-from-a-city'>The popular directions from a city</h2>
<p>Brings the most popular directions from a specified city back.</p>

<p><a href="https://app.getpostman.com/run-collection/a2e83057d1fc995298dd"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v1/city-directions?origin=MOW&amp;currency=usd'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v1/city-directions?origin=MOW&amp;currency=usd"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v1/city-directions?origin=MOW&amp;currency=usd"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v1/city-directions"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"MOW"</span><span class="p">,</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"usd"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-5'>Request</h3>
<p><code>GET https://api.travelpayouts.com/v1/city-directions?origin=MOW&amp;currency=usd&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-6'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>RUB</td>
<td>The airline tickets currency.</td>
</tr>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-6'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"AER"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"AER"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">3673</span><span class="p">,</span><span class="w">
            </span><span class="s2">"transfers"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"airline"</span><span class="p">:</span><span class="s2">"WZ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"flight_number"</span><span class="p">:</span><span class="mi">125</span><span class="p">,</span><span class="w">
            </span><span class="s2">"departure_at"</span><span class="p">:</span><span class="s2">"2016-03-08T16:35:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"return_at"</span><span class="p">:</span><span class="s2">"2016-03-17T16:05:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="s2">"2016-02-22T09:32:44Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"rub"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>The point of destination.</td>
</tr>
<tr>
<td>departure_at</td>
<td>-</td>
<td>The date of departure.</td>
</tr>
<tr>
<td>return_at</td>
<td>-</td>
<td>The date of return.</td>
</tr>
<tr>
<td>expires_at</td>
<td>-</td>
<td>Date on which the found price expires (UTC+0).</td>
</tr>
<tr>
<td>number_of_changes</td>
<td>-</td>
<td>The number of transfers.</td>
</tr>
<tr>
<td>price</td>
<td>-</td>
<td>The cost of a flight, in the currency specified.</td>
</tr>
<tr>
<td>found_at</td>
<td>-</td>
<td>The time and the date, for which a ticket was found.</td>
</tr>
<tr>
<td>transfers</td>
<td>-</td>
<td>The number of directs.</td>
</tr>
<tr>
<td>airline</td>
<td>-</td>
<td>IATA of an airline.</td>
</tr>
<tr>
<td>flight_number</td>
<td>-</td>
<td>Flight number.</td>
</tr>
<tr>
<td>currency</td>
<td>-</td>
<td>Currency of response.</td>
</tr>
</tbody></table>
<h1 id='flight-data-access-api-v2'>Flight Data Access API v2</h1>
<p>The server response is always sent in JSON format with the following structure:</p>

<ul>
<li><strong>success</strong> ‚Äì true for a successful request, false in case of errors;</li>
<li><strong>data</strong> ‚Äì a result of the request; in case of an error is equal to null;</li>
<li><strong>error</strong> ‚Äì short description of the error that prevented request completion; for a successful request is equal to null.</li>
</ul>

<p>Dates are accepted in the formats YYYY-MM and YYYY-MM-DD.</p>

<p>Dates and times are given in UTC, formatted according to <a href="https://ru.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. Prices are given in rubles as of when the ticket is put in the search results. It is not recommended to use expired prices (the approximate expiration date is given in the value of the expires_at parameter).</p>

<aside class="warning">
Important. We strongly urge receiving data in compressed GZIP format, which saves a significant amount of time in receiving the response. To get data in compressed form, send the header Accept-Encoding: gzip, deflate.
</aside>
<h2 id='the-prices-for-the-airline-tickets'>The prices for the airline tickets</h2>
<p>Brings back the list of prices found by our users during the most recent 48 hours according to the filters used.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v2/prices/latest?currency=usd&amp;period_type=year&amp;page=1&amp;limit=30&amp;show_to_affiliates=true&amp;sorting=price&amp;trip_class=0'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v2/prices/latest?currency=usd&amp;period_type=year&amp;page=1&amp;limit=30&amp;show_to_affiliates=true&amp;sorting=price&amp;trip_class=0"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v2/prices/latest?currency=usd&amp;period_type=year&amp;page=1&amp;limit=30&amp;show_to_affiliates=true&amp;sorting=price&amp;trip_class=0"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v2/prices/latest"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"usd"</span><span class="p">,</span><span class="s">"period_type"</span><span class="p">:</span><span class="s">"year"</span><span class="p">,</span><span class="s">"page"</span><span class="p">:</span><span class="s">"1"</span><span class="p">,</span><span class="s">"limit"</span><span class="p">:</span><span class="s">"30"</span><span class="p">,</span><span class="s">"show_to_affiliates"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"sorting"</span><span class="p">:</span><span class="s">"price"</span><span class="p">,</span><span class="s">"trip_class"</span><span class="p">:</span><span class="s">"0"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/v2/prices/latest?currency=usd&amp;period_type=year&amp;page=1&amp;limit=30&amp;show_to_affiliates=true&amp;sorting=price&amp;trip_class=0&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<aside class="notice">
Note. If the point of departure and the point of destination are not specified, the API shall bring back 30 of the cheapest tickets that have been found during the most recent 48 hours.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>RUB</td>
<td>The airline ticket‚Äôs currency.</td>
</tr>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>The point of destination. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>beginning_of_period</td>
<td>-</td>
<td>The beginning of the period, within which the dates of departure fall (in the YYYY-MM-DD format, for example, 2016-05-01). Must be specified if <strong>period_type</strong> is equal to a month.</td>
</tr>
<tr>
<td>period_type</td>
<td>-</td>
<td>The period for which the tickets have been found (the required parameter): <strong>year</strong> ‚Äî for the whole time, <strong>month</strong> ‚Äî for a month.</td>
</tr>
<tr>
<td>one_way</td>
<td>false</td>
<td><strong>true</strong> - one way, <strong>false</strong> - back-to-back.</td>
</tr>
<tr>
<td>page</td>
<td>1</td>
<td>A page number.</td>
</tr>
<tr>
<td>limit</td>
<td>30</td>
<td>The total number of records on a page. The maximum value - 1000.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>true</td>
<td><strong>false</strong> - all the prices, <strong>true</strong> - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>sorting</td>
<td>price</td>
<td>The assorting of prices: <strong>price</strong> ‚Äî by the price. For the directions, only <strong>city - city</strong> assorting by the price is possible; <strong>route</strong> ‚Äî by the popularity of a route; <strong>distance_unit_price</strong> ‚Äî by the price for 1 km.</td>
</tr>
<tr>
<td>trip_duration</td>
<td>1</td>
<td>A page number.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"show_to_affiliates"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BKK"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PHS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"depart_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-09"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"return_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-11"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number_of_changes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">36.36</span><span class="p">,</span><span class="w">
      </span><span class="s2">"found_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-24T06:33:32+04:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"distance"</span><span class="p">:</span><span class="w"> </span><span class="mi">339</span><span class="p">,</span><span class="w">
      </span><span class="s2">"actual"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Origin</td>
<td>The point of departure.</td>
</tr>
<tr>
<td>destination</td>
<td>The point of destination.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>False - all the prices, true ‚Äî just the prices, found using the partner marker (recommended)</td>
</tr>
<tr>
<td>trip_class</td>
<td>The flight class: <strong>0</strong> ‚Äî the economy class, <strong>1</strong> ‚Äî the business class, <strong>2</strong> ‚Äî the first class.</td>
</tr>
<tr>
<td>depart_date</td>
<td>The date of departure.</td>
</tr>
<tr>
<td>return_date</td>
<td>The date of return.</td>
</tr>
<tr>
<td>number_of_changes</td>
<td>The number of transfers.</td>
</tr>
<tr>
<td>value</td>
<td>The cost of a flight, in the currency specified.</td>
</tr>
<tr>
<td>found_at</td>
<td>The time and the date, for which a ticket was found.</td>
</tr>
<tr>
<td>distance</td>
<td>The distance between the point of departure and the point of destination.</td>
</tr>
<tr>
<td>actual</td>
<td>The actuality of an offer.</td>
</tr>
<tr>
<td>token</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h2 id='the-calendar-of-prices-for-a-month'>The calendar of prices for a month</h2>
<p>Brings the prices for each day of a month, grouped together by the number of transfers, back.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v2/prices/month-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v2/prices/month-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v2/prices/month-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v2/prices/month-matrix"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"usd"</span><span class="p">,</span><span class="s">"show_to_affiliates"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"LED"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"HKT"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-2'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/v2/prices/month-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT</code></p>
<h3 id='request-parameters-2'>Request parameters</h3>
<aside class="notice">
Note. If the point of departure and the point of destination are not specified, then the API shall bring 30 the cheapest tickets, which have been found during the recent 48 hours, back.
</aside>
  

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>RUB</td>
<td>The airline ticket‚Äôs currency</td>
</tr>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>The point of destination. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>month</td>
<td>-</td>
<td>The beginning of the month in the YYYY-MM-DD format.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>true</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[{</span><span class="w">
        </span><span class="s2">"show_to_affiliates"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"HKT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"depart_date"</span><span class="p">:</span><span class="s2">"2015-10-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"return_date"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number_of_changes"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="mi">29127</span><span class="p">,</span><span class="w">
        </span><span class="s2">"found_at"</span><span class="p">:</span><span class="s2">"2015-09-24T00:06:12+04:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"distance"</span><span class="p">:</span><span class="mi">8015</span><span class="p">,</span><span class="w">
        </span><span class="s2">"actual"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>The point of departure.</td>
</tr>
<tr>
<td>destination</td>
<td>The point of destination.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>trip_class</td>
<td>The flight class: <strong>0</strong> ‚Äî The economy class, <strong>1</strong> ‚Äî The business class, <strong>2</strong> ‚Äî The first class.</td>
</tr>
<tr>
<td>depart_date</td>
<td>The date of departure.</td>
</tr>
<tr>
<td>return_date</td>
<td>The date of return.</td>
</tr>
<tr>
<td>number_of_changes</td>
<td>The number of transfers.</td>
</tr>
<tr>
<td>value</td>
<td>The cost of a flight, in the currency specified.</td>
</tr>
<tr>
<td>found_at</td>
<td>The time and the date, for which a ticket was found.</td>
</tr>
<tr>
<td>distance</td>
<td>The distance between the point of departure and the point of destination.</td>
</tr>
<tr>
<td>actual</td>
<td>The actuality of an offer.</td>
</tr>
</tbody></table>
<h2 id='the-prices-for-the-alternative-directions'>The prices for the alternative directions</h2>
<p>Brings the prices for the directions between the nearest to the target cities back.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v2/prices/nearest-places-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v2/prices/nearest-places-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v2/prices/nearest-places-matrix?currency=usd&amp;show_to_affiliates=true&amp;origin=LED&amp;destination=HKT"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v2/prices/nearest-places-matrix"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"usd"</span><span class="p">,</span><span class="s">"show_to_affiliates"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"LED"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"HKT"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-3'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/v2/prices/nearest-places-matrix?currency=usd&amp;origin=LED&amp;destination=HKT&amp;show_to_affiliates=true&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-3'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>RUB</td>
<td>The airline ticket‚Äôs currency</td>
</tr>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>The point of destination. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>limit</td>
<td>-</td>
<td>The number of variants entered, from 1 to 20. Where 1 ‚Äì is just the variant with the specified points of departure and the points of destination.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>true</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>depart_date** <em>(optional)</em></td>
<td>-</td>
<td>Day or month of departure (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>return_date** <em>(optional)</em></td>
<td>-</td>
<td>Day or month of return (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>flexibility</td>
<td>-</td>
<td>Expansion of the range of dates upward or downward. The value may vary from 0 to 7, where 0 shall show the variants for the dates specified, 7 ‚Äì all the variants found for a week prior to the specified dates and a week after.</td>
</tr>
<tr>
<td>distance</td>
<td>-</td>
<td>The number of variants entered, from 1 to 20. Where 1 ‚Äì is just the variant with the specified points of departure and the points of destination.</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="s2">"prices"</span><span class="p">:[{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="mf">26000.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"show_to_affiliates"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_date"</span><span class="p">:</span><span class="s2">"2016-09-18"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"BAX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number_of_changes"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gate"</span><span class="p">:</span><span class="s2">"AMADEUS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"found_at"</span><span class="p">:</span><span class="s2">"2016-07-28T04:57:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"distance"</span><span class="p">:</span><span class="mi">3643</span><span class="p">,</span><span class="w">
    </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"SIP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depart_date"</span><span class="p">:</span><span class="s2">"2016-09-09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"actual"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}],</span><span class="w">
</span><span class="s2">"origins"</span><span class="p">:[</span><span class="w">
    </span><span class="s2">"BAX"</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="s2">"errors"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"amadeus"</span><span class="p">:{</span><span class="w">
    </span><span class="p">}},</span><span class="w">
</span><span class="s2">"destinations"</span><span class="p">:[</span><span class="w">
    </span><span class="s2">"SIP"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>The point of departure.</td>
</tr>
<tr>
<td>destination</td>
<td>The point of destination.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>trip_class</td>
<td>The flight class: <strong>0</strong> ‚Äî the economy class, <strong>1</strong> ‚Äî the business class, <strong>2</strong> ‚Äî the first class.</td>
</tr>
<tr>
<td>depart_date</td>
<td>The date of departure.</td>
</tr>
<tr>
<td>return_date</td>
<td>The date of return.</td>
</tr>
<tr>
<td>number_of_changes</td>
<td>The number of transfers.</td>
</tr>
<tr>
<td>value</td>
<td>The cost of a flight, in the currency specified.</td>
</tr>
<tr>
<td>found_at</td>
<td>The time and the date, for which a ticket was found.</td>
</tr>
<tr>
<td>distance</td>
<td>The distance between the point of departure and the point of destination.</td>
</tr>
<tr>
<td>actual</td>
<td>The actuality of an offer.</td>
</tr>
<tr>
<td>duration</td>
<td>Flight duration in minutes, taking into account direct and expectations.</td>
</tr>
<tr>
<td>errors</td>
<td>If the error &quot;Some error occurred&quot; is returned, so in this area do not have the data in the cache.</td>
</tr>
<tr>
<td>gate</td>
<td>The agents, which was found on the ticket.</td>
</tr>
<tr>
<td>token</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h2 id='the-calendar-of-prices-for-a-week'>The calendar of prices for a week</h2>
<p>Brings the prices for the nearest dates to the target ones back.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/v2/prices/week-matrix?currency=usd&amp;origin=LED&amp;destination=HKT&amp;show_to_affiliates=true&amp;depart_date=2017-11-04&amp;return_date=2017-11-18'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/v2/prices/week-matrix?currency=usd&amp;origin=LED&amp;destination=HKT&amp;show_to_affiliates=true&amp;depart_date=2017-11-04&amp;return_date=2017-11-18"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/v2/prices/week-matrix?currency=usd&amp;origin=LED&amp;destination=HKT&amp;show_to_affiliates=true&amp;depart_date=2017-11-04&amp;return_date=2017-11-18"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/v2/prices/week-matrix"</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"usd"</span><span class="p">,</span><span class="s">"origin"</span><span class="p">:</span><span class="s">"LED"</span><span class="p">,</span><span class="s">"destination"</span><span class="p">:</span><span class="s">"HKT"</span><span class="p">,</span><span class="s">"show_to_affiliates"</span><span class="p">:</span><span class="s">"true"</span><span class="p">,</span><span class="s">"depart_date"</span><span class="p">:</span><span class="s">"2017-11-04"</span><span class="p">,</span><span class="s">"return_date"</span><span class="p">:</span><span class="s">"2017-11-18"</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-4'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/v2/prices/week-matrix?currency=usd&amp;origin=LED&amp;destination=HKT&amp;show_to_affiliates=true&amp;depart_date=2016-09-04&amp;return_date=2016-09-18&amp;token=PutHereYourToken</code></p>
<h3 id='request-parameters-4'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>RUB</td>
<td>The airline tickets currency.</td>
</tr>
<tr>
<td>origin</td>
<td>-</td>
<td>The point of departure. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>destination</td>
<td>-</td>
<td>The point of destination. The IATA city code or the country code. The length - from 2 to 3 symbols.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>true</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>depart_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of departure (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>return_date <em>(optional)</em></td>
<td>-</td>
<td>Day or month of return (yyyy-mm-dd or yyyy-mm).</td>
</tr>
<tr>
<td>token</td>
<td>-</td>
<td>Individual affiliate token.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"show_to_affiliates"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"HKT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"depart_date"</span><span class="p">:</span><span class="s2">"2016-03-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"return_date"</span><span class="p">:</span><span class="s2">"2016-03-15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number_of_changes"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="mi">71725</span><span class="p">,</span><span class="w">
        </span><span class="s2">"found_at"</span><span class="p">:</span><span class="s2">"2016-02-19T00:04:37+04:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"distance"</span><span class="p">:</span><span class="mi">8015</span><span class="p">,</span><span class="w">
        </span><span class="s2">"actual"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>The point of departure.</td>
</tr>
<tr>
<td>destination</td>
<td>The point of destination.</td>
</tr>
<tr>
<td>show_to_affiliates</td>
<td>False - all the prices, true - just the prices, found using the partner marker (recommended).</td>
</tr>
<tr>
<td>trip_class</td>
<td>The flight class: <strong>0</strong> ‚Äî the economy class, <strong>1</strong> ‚Äî the business class, <strong>2</strong> ‚Äî the first class.</td>
</tr>
<tr>
<td>depart_date</td>
<td>The date of departure.</td>
</tr>
<tr>
<td>return_date</td>
<td>The date of return.</td>
</tr>
<tr>
<td>number_of_changes</td>
<td>The number of transfers.</td>
</tr>
<tr>
<td>value</td>
<td>The cost of a flight, in the currency specified.</td>
</tr>
<tr>
<td>found_at</td>
<td>The time and the date, for which a ticket was found.</td>
</tr>
<tr>
<td>distance</td>
<td>The distance between the point of departure and the point of destination.</td>
</tr>
<tr>
<td>actual</td>
<td>The actuality of an offer.</td>
</tr>
</tbody></table>
<h2 id='the-definition-of-a-user-39-s-location-by-ip-address'>The definition of a user&#39;s location by IP address</h2>
<p>The query is returned the IATA-code and the name of the nearest city from the user.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://www.travelpayouts.com/whereami?locale=ru&amp;callback=useriata&amp;ip=62.105.128.0'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span>  <span class="o">=</span> <span class="p">{</span><span class="ss">:x_access_token</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"https://www.travelpayouts.com/whereami?locale=ru&amp;callback=useriata&amp;ip=62.105.128.0"</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://www.travelpayouts.com/whereami?locale=ru&amp;callback=useriata&amp;ip=62.105.128.0"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"X-Access-Token"</span><span class="p">:</span> <span class="s">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">"https://www.travelpayouts.com/whereami?locale=ru&amp;callback=useriata&amp;ip=62.105.128.0"</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><h3 id='request-5'>Request</h3>
<p>GET <code>https://www.travelpayouts.com/whereami?locale=ru&amp;callback=useriata&amp;ip=62.105.128.0</code></p>
<h3 id='request-parameters-5'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>locale</td>
<td>Russian</td>
<td>The language in which returns the name of the city (available languages: en, ru, de, fr, it, pl, th.);</td>
</tr>
<tr>
<td>callback</td>
<td>-</td>
<td>Specifies the name of the function, which contains a response to a query (mandatory);</td>
</tr>
<tr>
<td>ip</td>
<td>-</td>
<td>Ip-addresses of the users (if the address is not passed, the system determines IP from the header of the request).</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">useriata</span><span class="w"> </span><span class="err">(</span><span class="p">{</span><span class="s2">"iata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moscow"</span><span class="p">}</span><span class="err">)</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iata</td>
<td>IATA code of the city where the user is located;</td>
</tr>
<tr>
<td>name</td>
<td>The name of the city.</td>
</tr>
</tbody></table>
<h2 id='special-offers'>Special offers</h2>
<p>Brings the recent special offers from the airline companies back in the XML format.</p>

<p><a href="https://app.getpostman.com/run-collection/e4421ace19cf77dec915"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>
<h3 id='request-6'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/v2/prices/special-offers?token=PutHereYourToken</code></p>
<h1 id='some-data-in-json-format'>Some data in JSON format</h1>
<aside class="notice">
Note! Additionally we created translations for different languages for all data https://api.travelpayouts.com/data/
</aside>
<h2 id='data-of-countries-in-json-format'>Data of countries in JSON format</h2>
<p>The query returns a file with a list of countries from the database. </p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/en/countries.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">"https://api.travelpayouts.com/data/en/countries.json"</span>
<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/en/countries.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/data/en/countries.json"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/en/countries.json</code></p>
<h3 id='response'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"NC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"New Caledonia"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"XPF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name_translations"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"de"</span><span class="p">:</span><span class="s2">"Neukaledonien"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en"</span><span class="p">:</span><span class="s2">"New Caledonia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tr"</span><span class="p">:</span><span class="s2">"Yeni Kaledonya"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ru"</span><span class="p">:</span><span class="s2">"–ù–æ–≤–∞—è –ö–∞–ª–µ–¥–æ–Ω–∏—è"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fr"</span><span class="p">:</span><span class="s2">"Nouvelle-Caledonie"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"es"</span><span class="p">:</span><span class="s2">"Nueva Caledonia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"it"</span><span class="p">:</span><span class="s2">"Nuova Caledonia"</span><span class="w">
    </span><span class="p">}}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>-</td>
<td>IATA-code of country.</td>
</tr>
<tr>
<td>name</td>
<td>-</td>
<td>Country name.</td>
</tr>
<tr>
<td>currency</td>
<td>-</td>
<td>Currency country.</td>
</tr>
<tr>
<td>name_translations</td>
<td>-</td>
<td>Translation of country name.</td>
</tr>
</tbody></table>
<h2 id='city-data-in-json-format'>City data in JSON format</h2>
<p>The query returns a file with a list of cities from the database. </p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/en/cities.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/data/en/cities.json"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/en/cities.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/data/en/cities.json"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-2'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/en/cities.json</code></p>
<h3 id='response-2'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"SCE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coordinates"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"lon"</span><span class="p">:</span><span class="mf">-77.84823</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="mf">40.85372</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name_translations"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"de"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zh-CN"</span><span class="p">:</span><span class="s2">"???"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tr"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ru"</span><span class="p">:</span><span class="s2">"–°—Ç–µ–π—Ç –ö–æ–ª–ª–µ–¥–∂"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"it"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"es"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fr"</span><span class="p">:</span><span class="s2">"State College"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"th"</span><span class="p">:</span><span class="s2">"??????????"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"country_code"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>-</td>
<td>City IATA-code.</td>
</tr>
<tr>
<td>name</td>
<td>-</td>
<td>City name.</td>
</tr>
<tr>
<td>coordinates</td>
<td>-</td>
<td>City coordinates.</td>
</tr>
<tr>
<td>time_zone</td>
<td>-</td>
<td>Timezone relative to GMT.</td>
</tr>
<tr>
<td>name_translations</td>
<td>-</td>
<td>Translation of city name.</td>
</tr>
<tr>
<td>country_code</td>
<td>-</td>
<td>Country IATA-code.</td>
</tr>
</tbody></table>
<h2 id='airport-data-in-json-format'>Airport data in json format</h2>
<p>The query returns a file with a list of airports from the database. </p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/en/airports.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/data/en/airports.json"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/en/airports.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/data/en/airports.json"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-3'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/en/airports.json</code></p>
<h3 id='response-3'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"MQP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Kruger Mpumalanga International Airport"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coordinates"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"lon"</span><span class="p">:</span><span class="mf">31.098131</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="mf">-25.384947</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Africa/Johannesburg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name_translations"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"de"</span><span class="p">:</span><span class="s2">"Nelspruit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en"</span><span class="p">:</span><span class="s2">"Kruger Mpumalanga International Airport"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tr"</span><span class="p">:</span><span class="s2">"International Airport"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"it"</span><span class="p">:</span><span class="s2">"Kruger Mpumalanga"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fr"</span><span class="p">:</span><span class="s2">"Kruger Mpumalanga"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"es"</span><span class="p">:</span><span class="s2">"Kruger Mpumalanga"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"th"</span><span class="p">:</span><span class="s2">"???????????????"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"country_code"</span><span class="p">:</span><span class="s2">"ZA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city_code"</span><span class="p">:</span><span class="s2">"NLP"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>-</td>
<td>Airport IATA code.</td>
</tr>
<tr>
<td>name</td>
<td>-</td>
<td>Airport name.</td>
</tr>
<tr>
<td>lon</td>
<td>-</td>
<td>Airport longitude.</td>
</tr>
<tr>
<td>lat</td>
<td>-</td>
<td>Airport latitude.</td>
</tr>
<tr>
<td>time_zone</td>
<td>-</td>
<td>Time zone relative to GMT.</td>
</tr>
<tr>
<td>name_translations</td>
<td>-</td>
<td>The name of the airport in different languages.</td>
</tr>
<tr>
<td>country_code</td>
<td>-</td>
<td>Country IATA code.</td>
</tr>
<tr>
<td>city_code</td>
<td>-</td>
<td>City IATA code.</td>
</tr>
</tbody></table>
<h2 id='airline-data-in-json-format'>Airline data in JSON format</h2>
<p>The query returns a file with a list of airlines from the database. </p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/en/airlines.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/https'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.travelpayouts.com/data/en/airlines.json"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTPS</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"x-access-token"</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'321d6a221f8926b5ec41ae89a3b2ae7b'</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/en/airlines.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.travelpayouts.com/data/en/airlines.json"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-access-token'</span><span class="p">:</span> <span class="s">'321d6a221f8926b5ec41ae89a3b2ae7b'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><h3 id='request-4'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/en/airlines.json</code></p>
<h3 id='response-4'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Private flight"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alias"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iata"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"icao"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callsign"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_active"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>-</td>
<td>Airline name.</td>
</tr>
<tr>
<td>alias</td>
<td>-</td>
<td>Alliance name (if the airline is an alliance member).</td>
</tr>
<tr>
<td>iata</td>
<td>-</td>
<td>Airline IATA code.</td>
</tr>
<tr>
<td>icao</td>
<td>-</td>
<td>Airline ICAO code.</td>
</tr>
<tr>
<td>callsign</td>
<td>-</td>
<td>Airline call sign.</td>
</tr>
<tr>
<td>country</td>
<td>-</td>
<td>Airline country of registration.</td>
</tr>
<tr>
<td>is_active</td>
<td>-</td>
<td>True: company is active, false: company is not active.</td>
</tr>
</tbody></table>
<h2 id='alliance-data-in-json-format'>Alliance data in JSON format</h2>
<p>The query returns a file with a list of alliances from the database. </p>

<blockquote>
<p>Example of a request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/en/airlines_alliances.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span>  <span class="o">=</span> <span class="p">{</span><span class="ss">:x_access_token</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"https://api.travelpayouts.com/data/en/airlines_alliances.json"</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/en/airlines_alliances.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"X-Access-Token"</span><span class="p">:</span> <span class="s">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">"https://api.travelpayouts.com/data/en/airlines_alliances.json"</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><h3 id='request-5'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/en/airlines_alliances.json</code></p>
<h3 id='response-5'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"oneworld"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"airlines"</span><span class="p">:[</span><span class="s2">"4M"</span><span class="p">,</span><span class="s2">"AA"</span><span class="p">,</span><span class="s2">"AB"</span><span class="p">,</span><span class="s2">"BA"</span><span class="p">]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>-</td>
<td>Alliance name.</td>
</tr>
<tr>
<td>airlines</td>
<td>-</td>
<td>Codes for alliance member companies.</td>
</tr>
</tbody></table>
<h2 id='airplane-data-in-json-format'>Airplane data in json format</h2>
<p>The query returns a file with a list of airplanes from the database. </p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/planes.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span>  <span class="o">=</span> <span class="p">{</span><span class="ss">:x_access_token</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"https://api.travelpayouts.com/data/planes.json"</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/planes.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"X-Access-Token"</span><span class="p">:</span> <span class="s">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">"https://api.travelpayouts.com/data/planes.json"</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><h3 id='request-6'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/planes.json</code></p>
<h3 id='response-6'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Fokker 100"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>-</td>
<td>Plane IATA code.</td>
</tr>
<tr>
<td>name</td>
<td>-</td>
<td>Plane name.</td>
</tr>
</tbody></table>
<h2 id='routes-list-in-json-format'>Routes list in json format</h2>
<p>The query returns a file with a list of routes from the database.</p>

<p><a href="https://app.getpostman.com/run-collection/c79ab5bb9bb4c92ad23d"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<blockquote>
<p>Example of request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
  --url <span class="s1">'https://api.travelpayouts.com/data/routes.json'</span> <span class="se">\</span>
  --header <span class="s1">'x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span>  <span class="o">=</span> <span class="p">{</span><span class="ss">:x_access_token</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"https://api.travelpayouts.com/data/routes.json"</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://api.travelpayouts.com/data/routes.json"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_ENCODING</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
  <span class="nx">CURLOPT_MAXREDIRS</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTP_VERSION</span> <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b"</span>
  <span class="p">),</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"cURL Error #:"</span> <span class="o">.</span> <span class="nv">$err</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"X-Access-Token"</span><span class="p">:</span> <span class="s">"YOUR_API_TOKEN_HERE"</span><span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">"https://api.travelpayouts.com/data/routes.json"</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><h3 id='request-7'>Request</h3>
<p>GET <code>https://api.travelpayouts.com/data/routes.json</code></p>
<h3 id='response-7'>Response</h3>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"airline_iata"</span><span class="p">:</span><span class="s2">"2B"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"airline_icao"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"departure_airport_iata"</span><span class="p">:</span><span class="s2">"AER"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"departure_airport_icao"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"arrival_airport_iata"</span><span class="p">:</span><span class="s2">"DME"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"arrival_airport_icao"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codeshare"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transfers"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"planes"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"CR2"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>airline_iata</td>
<td>-</td>
<td>IATA of an airline.</td>
</tr>
<tr>
<td>airline_icao</td>
<td>-</td>
<td>ICAO of an airline.</td>
</tr>
<tr>
<td>departure_airport_iata</td>
<td>-</td>
<td>IATA of an airport of departure.</td>
</tr>
<tr>
<td>departure_airport_icao</td>
<td>-</td>
<td>ICAO of an airport of departure.</td>
</tr>
<tr>
<td>arrival_airport_iata</td>
<td>-</td>
<td>IATA of an airport of arrival.</td>
</tr>
<tr>
<td>arrival_airport_icao</td>
<td>-</td>
<td>ICAO of an airport of arrival.</td>
</tr>
<tr>
<td>codeshare</td>
<td>-</td>
<td>It shows whether the flight performs the same company that sells the ticket.</td>
</tr>
<tr>
<td>transfers</td>
<td>-</td>
<td>The number of directs.</td>
</tr>
<tr>
<td>planes</td>
<td>-</td>
<td>IATA of an airplane.</td>
</tr>
</tbody></table>
<h1 id='flights-search-api-real-time-and-multi-city-search'>Flights search API: Real-time and multi-city search</h1>
<p>With the help of API, you can get the results of requests in real time and create a Multi-City search. </p>

<p>By default, one partner may send no more than 200 queries per hour for one IP, using the airline tickets search API. This restriction may be changed if a situation so requires.</p>
<h2 id='ccess-to-the-flights-search-api'>–êccess to the flights search API</h2>
<p>To access the flights search API you should be registered in our <a href="https://travelpayouts.com/">travel affiliate program</a> and <a href="https://support.travelpayouts.com/hc/ru/requests/new">submit your request</a> on with the following information:</p>

<ul>
<li>URL of your website;</li>
<li>Design prototypes of a search result;</li>
<li>Description of your project;</li>
<li>How you will use the search API?</li>
<li>Why aren‚Äôt the standard methods of integration (search forms, White Label, API access to data) suitable for you.</li>
<li>Requirements for flights search API access.</li>
</ul>

<aside class="notice">Each search query must be initiated by the user and the results must be shown to the user in full. The results for each query must contain a ‚Äúbuy‚Äù button next to each flight option.</aside>

<p>The conversion rate for searches via the Buy link must be 9% or more. The conversion rate from the Buy button to actual purchases must be at least 5%.
We&#39;ll also need to see the URL of your project, design prototypes, a description of your project, and how our API will be used.</p>

<aside class="warning">Ajax requests to the API don‚Äôt work because the access token is passed unencrypted. You must make requests to the API from the server. </aside>
<h2 id='roundtrip'>Roundtrip</h2>
<p><a href="https://app.getpostman.com/run-collection/f8a2e594d4a2ea0e6a73"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>
<h3 id='request-parameters'>Request parameters</h3>
<blockquote>
<p>Body example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD5_signature"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Put_Your_Marker_Here"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="err">your_server_host</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="err">user_ip_address</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"passengers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"adults"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"infants"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-25"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-18"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>marker</strong></td>
<td>string</td>
<td>the unique identifier of the affiliate. You can find your marker in the affiliate personal account</td>
</tr>
<tr>
<td><strong>host</strong></td>
<td>string</td>
<td>host&#39;s request (must be replaced by the address of your website where the API will be used)</td>
</tr>
<tr>
<td><strong>user_ip</strong></td>
<td>string</td>
<td>user&#39;s IP address</td>
</tr>
<tr>
<td><strong>locale</strong></td>
<td>string</td>
<td>language of the search result (en-us, en-gb, ru, de, es, fr, pl). –êrom the locale depends on the set of agencies on which the search is performed</td>
</tr>
<tr>
<td><strong>trip_class</strong></td>
<td>string</td>
<td>flight class (Y ‚Äì Economy, C ‚Äì Business)</td>
</tr>
<tr>
<td><strong>passengers</strong></td>
<td>-</td>
<td>passenger Information</td>
</tr>
<tr>
<td><strong>adults</strong></td>
<td>integer</td>
<td>the number of adult passengers (from 1 to 9)</td>
</tr>
<tr>
<td><strong>children</strong></td>
<td>integer</td>
<td>the number of children (from 0 to 6)</td>
</tr>
<tr>
<td><strong>infants</strong></td>
<td>integer</td>
<td>the number of infants (from 0 to 6)</td>
</tr>
<tr>
<td><strong>segments</strong></td>
<td>-</td>
<td>a list of the trip components: <li><strong>origin</strong> (string) - origin IATA or string &quot;City, Country (IATA)&quot;. The IATA code is shown in uppercase letters (for example, &quot;Paris, France (PAR)&quot;);</li><li><strong>destination</strong> (string) - destination IATA or string &quot;City, Country (IATA)&quot;. The IATA code is shown in uppercase letters (for example, &quot;Berlin, Germany (BER)&quot;);</l><li><strong>date</strong> (date) - departure date yyyy-mm-dd (for example, &quot;2015-09-08&quot;);</li></td>
</tr>
<tr>
<td><strong>currency</strong></td>
<td>string</td>
<td>the currency in which the price of the ticket is displayed, after switching to the agency&#39;s website (provided that the agency supports this currency);</td>
</tr>
<tr>
<td><strong>signature</strong></td>
<td>string</td>
<td>the request signature is constructed from token, marker, and all the values of the query parameters sorted alphabetically and separated by a colon. Learn how to create a signature look here.</td>
</tr>
</tbody></table>

<p>To get &quot;Round trip&quot; tickets, add a JSON to the body of the request:</p>

<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v -X POST -d <span class="s1">'{"signature":"%MD5_signature%","marker":"%Put_Your_Marker_Here%","host":"beta.as.ru","user_ip":"127.0.0.1","locale":"ru","trip_class":"Y","passengers":{"adults":1,"children":0,"infants":0},"segments":[{"origin":"MOW","destination":"LON","date":"2018-05-25"},{"origin":"LON","destination":"MOW","date":"2018-06-18"}]}'</span> -H <span class="s1">'Content-type:application/json'</span> https://api.travelpayouts.com/v1/flight_search
</code></pre><h3 id='response'>Response</h3>
<p>The answer comes in JSON format. The response contains the parameters:</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"chain_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jetradar_rt_search_native_format"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d9266de5-7578-418f-9ddc-6b176ae45923"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beta.aviasales.ru"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DK"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-24"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"destination_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original_destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"origin_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"destination_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DK"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original_destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"affiliate_has_sales"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"show_ads"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"passengers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adults"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"infants"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"currency_rates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lak"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0075</span><span class="p">,</span><span class="w">
    </span><span class="s2">"czk"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.95961</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"travelpayouts_api_request"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"server_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zoo39.int.avs.io.yasen.bee.13"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"know_english"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"geoip_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"metropoly_airports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CPH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"CPH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CPH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ZGH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RKE"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ROM"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"ROM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IRR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"FCO"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ROM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"XRJ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"IRT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CIA"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"search_depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fb7ded0ddd86270a262d832322f46093"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initiated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-26 05:09:42.031853"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_search_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mf">1524719382.03045</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gates_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dk"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"_ga"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"clean_marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"open_jaw"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"search_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d9266de5-7578-418f-9ddc-6b176ae45923"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"geoip_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>locale</strong></td>
<td>the language of the search result</td>
</tr>
<tr>
<td><strong>search_id</strong></td>
<td>the unique identifier for the search query used to search results</td>
</tr>
<tr>
<td><strong>geoip_city</strong></td>
<td>the geoip of the city where the request was made</td>
</tr>
<tr>
<td><strong>trip_class</strong></td>
<td>the class of trip</td>
</tr>
<tr>
<td><strong>affiliate</strong></td>
<td>the affiliate ID</td>
</tr>
<tr>
<td><strong>marker</strong></td>
<td>the unique identifier of the affiliate</td>
</tr>
<tr>
<td><strong>user_ip</strong></td>
<td>the user&#39;s IP address</td>
</tr>
<tr>
<td><strong>gates_count</strong></td>
<td>the total number of agencies</td>
</tr>
<tr>
<td><strong>segments</strong></td>
<td>a list of the trip components:  <li> <strong>date</strong> - departure date; </li> <li><strong>origin</strong> - origin IATA;</li> <li><strong>destination</strong> - destination IATA.</li></td>
</tr>
<tr>
<td><strong>meta</strong></td>
<td>technical information</td>
</tr>
<tr>
<td><strong>uuid</strong></td>
<td>unique identifier of the request</td>
</tr>
<tr>
<td><strong>passengers</strong></td>
<td>passenger information</td>
</tr>
<tr>
<td><strong>adults</strong></td>
<td>the number of adult passengers</td>
</tr>
<tr>
<td><strong>children</strong></td>
<td>the number of children</td>
</tr>
<tr>
<td><strong>infants</strong></td>
<td>the number of infants</td>
</tr>
<tr>
<td><strong>host</strong></td>
<td>host&#39;s request</td>
</tr>
<tr>
<td><strong>currency_rates</strong></td>
<td>exchange rate</td>
</tr>
<tr>
<td><strong>geoip_country</strong></td>
<td>the geoip of the country where the request was made</td>
</tr>
</tbody></table>

<aside class="notice">Please note! Use currency rates to convert the prices of flights to the currency you need (because the response contains the flight price in Russian rubles).</aside> 
<h2 id='one-way'>One way</h2><h3 id='request-initialization'>Request initialization</h3>
<p>To get &quot;One-way&quot; tickets, add a JSON into the body of the request.</p>
<h3 id='body-example'>Body example</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%MD5_signature%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%Put_Your_Marker_Here%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beta.as.ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"passengers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"adults"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"infants"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-18"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To get data, use the initialization code of the search:</p>

<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v -X POST -d <span class="s1">'{"signature":"%MD5_signature%","marker":"%Put_Your_Marker_Here%","host":"beta.as.ru","user_ip":"127.0.0.1","locale":"ru","trip_class":"Y","passengers":{"adults":1,"children":0,"infants":0},"segments":[{"origin":"MOW","destination":"LED","date":"2017-06-18"}]}'</span> -H <span class="s1">'Content-type:application/json'</span> https://api.travelpayouts.com/v1/flight_search
</code></pre><h2 id='open-jaw'>Open jaw</h2><h3 id='request-initialization-2'>Request initialization</h3>
<p>Open jaw is a round-trip ticket in which the traveller does not arrive in the same city of departure and/or does not depart from the same city where he/she first landed. For example, London - Paris - Berlin - London.</p>

<p>To get &quot;Open jaw&quot; tickets, add a JSON into the body of the request:</p>
<h3 id='body-example-2'>Body example</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%MD5_signature%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%Put_Your_Marker_Here%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beta.as.ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"passengers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"adults"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"infants"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-18"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='request-parameters-2'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>marker</strong></td>
<td>string</td>
<td>the unique identifier of the affiliate. You can find your marker in the affiliate personal account</td>
</tr>
<tr>
<td><strong>host</strong></td>
<td>string</td>
<td>host&#39;s request (must be replaced by the address of your website where the API will be used)</td>
</tr>
<tr>
<td><strong>user_ip</strong></td>
<td>string</td>
<td>user&#39;s IP address</td>
</tr>
<tr>
<td><strong>locale</strong></td>
<td>string</td>
<td>language of the search result (en-us, en-gb, ru, de, es, fr, pl). –êrom the locale depends on the set of agencies on which the search is performed</td>
</tr>
<tr>
<td><strong>trip_class</strong></td>
<td>string</td>
<td>flight class (Y ‚Äì Economy, C ‚Äì Business)</td>
</tr>
<tr>
<td><strong>passengers</strong></td>
<td>-</td>
<td>passenger Information</td>
</tr>
<tr>
<td><strong>adults</strong></td>
<td>integer</td>
<td>the number of adult passengers (from 1 to 9)</td>
</tr>
<tr>
<td><strong>children</strong></td>
<td>integer</td>
<td>the number of children (from 0 to 6)</td>
</tr>
<tr>
<td><strong>infants</strong></td>
<td>integer</td>
<td>the number of infants (from 0 to 6)</td>
</tr>
<tr>
<td><strong>segments</strong></td>
<td>-</td>
<td>a list of the trip components: <li><strong>origin</strong> (string) - origin IATA or string &quot;City, Country (IATA)&quot;. The IATA code is shown in uppercase letters (for example, &quot;Paris, France (PAR)&quot;);</li><li><strong>destination</strong> (string) - destination IATA or string &quot;City, Country (IATA)&quot;. The IATA code is shown in uppercase letters (for example, &quot;Berlin, Germany (BER)&quot;);</l><li><strong>date</strong> (date) - departure date yyyy-mm-dd (for example, &quot;2015-09-08&quot;);</li></td>
</tr>
<tr>
<td><strong>currency</strong></td>
<td>string</td>
<td>the currency in which the price of the ticket is displayed, after switching to the agency&#39;s website (provided that the agency supports this currency);</td>
</tr>
<tr>
<td><strong>signature</strong></td>
<td>string</td>
<td>the request signature is constructed from token, marker, and all the values of the query parameters sorted alphabetically and separated by a colon. Learn how to create a signature look here.</td>
</tr>
</tbody></table>

<blockquote>
<p>Body example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%MD5_signature%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%Put_Your_Marker_Here%"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beta.as.ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ru"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trip_class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"passengers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"adults"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"infants"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-18"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BER"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-25"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BER"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-05"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>To get data, use the initialization code of the search:</p>

<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v -X POST -d <span class="s1">'{"signature":"%MD5_signature%","marker":"%Put_Your_Marker_Here%","host":"beta.as.ru","user_ip":"127.0.0.1","locale":"ru","trip_class":"Y","passengers":{"adults":1,"children":0,"infants":0},"segments":[{"origin":"MOW","destination":"LED","date":"2017-06-18"},{"origin":"LED","destination":"BER","date":"2017-06-25"},{"origin":"BER","destination":"LON","date":"2017-07-05"}]}'</span> -H <span class="s1">'Content-type:application/json'</span> https://api.travelpayouts.com/v1/flight_search
</code></pre><h2 id='getting-search-results'>Getting search results</h2>
<p>In the body of the response is the parameter search_id; insert it into the URL:</p>

<p>https://api.travelpayouts.com/v1/flight_search_results?uuid=%search_id%</p>

<p>Then send the request to the server for search results:</p>

<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v -H <span class="s1">'Accept-Encoding:gzip,deflate,sdch'</span> https://api.travelpayouts.com/v1/flight_search_results?uuid<span class="o">=</span>%search_id% 
--compressed
</code></pre>
<aside class="notice">As a result of the search, you will get the JSON array where each element is a response from a definite agency. </aside>

<aside class="warning">Repeat the request until you get an associative array with one element search_id. The periodicity of sending requests isn't restricted. </aside>
<h3 id='example-of-answer'>Example of answer</h3>
<aside class="warning">Attention! The link to the search results is relevant for 15 minutes. After this time, you must send a search query again.</aside>

<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"segments"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"destination_country"</span><span class="p">:</span><span class="s2">"RU"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"original_destination"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin_country"</span><span class="p">:</span><span class="s2">"RU"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"original_origin"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2017-05-25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"LED"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"destination_country"</span><span class="p">:</span><span class="s2">"RU"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"original_destination"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"origin_country"</span><span class="p">:</span><span class="s2">"RU"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"original_origin"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2017-06-18"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"destination"</span><span class="p">:</span><span class="s2">"MOW"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"banner_info"</span><span class="p">:{</span><span class="w">
    </span><span class="p">},</span><span class="w">
        </span><span class="s2">"internal"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airports"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"LED"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–ü—É–ª–∫–æ–≤–æ"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Europe/Moscow"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"–†–æ—Å—Å–∏—è"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"259"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"DME"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–î–æ–º–æ–¥–µ–¥–æ–≤–æ"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Europe/Moscow"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"–†–æ—Å—Å–∏—è"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"392"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"–ú–æ—Å–∫–≤–∞"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"SVO"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"307"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"–†–æ—Å—Å–∏—è"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="s2">"3.63"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"–ú–æ—Å–∫–≤–∞"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Europe/Moscow"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"VKO"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–í–Ω—É–∫–æ–≤–æ"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"time_zone"</span><span class="p">:</span><span class="s2">"Europe/Moscow"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"–†–æ—Å—Å–∏—è"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"211"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"–ú–æ—Å–∫–≤–∞"</span><span class="w">
            </span><span class="p">}},</span><span class="w">
            </span><span class="s2">"gates_info"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"20"</span><span class="p">:{</span><span class="w">
                    </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="mf">4.43</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"rates"</span><span class="p">:</span><span class="mi">2967</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"currency_code"</span><span class="p">:</span><span class="s2">"rub"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_airline"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"productivity"</span><span class="p">:</span><span class="mf">16.9991</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"label"</span><span class="p">:</span><span class="s2">"OneTwoTrip"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"airline_iatas"</span><span class="p">:{</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"payment_methods"</span><span class="p">:[</span><span class="w">
                        </span><span class="s2">"card"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"mobile_version"</span><span class="p">:</span><span class="kc">false</span><span class="w">
                    </span><span class="p">}},</span><span class="w">
                    </span><span class="s2">"city_distance"</span><span class="p">:</span><span class="mi">634</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
                        </span><span class="s2">"uuid"</span><span class="p">:</span><span class="s2">"c9c6de8c-3fb4-404e-b88c-e9e0a605f183"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"gates"</span><span class="p">:[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"duration"</span><span class="p">:</span><span class="mf">22.402996063232422</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"count"</span><span class="p">:</span><span class="mi">1456</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"good_count"</span><span class="p">:</span><span class="mi">1456</span><span class="w">
                        </span><span class="p">}]},</span><span class="w">
                    </span><span class="s2">"airlines"</span><span class="p">:{</span><span class="w">
                        </span><span class="s2">"SU"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="s2">"4.01"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"2362"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"alliance_name"</span><span class="p">:</span><span class="s2">"SkyTeam"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–ê—ç—Ä–æ—Ñ–ª–æ—Ç"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">10</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"UN"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="s2">"3.98"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"2639"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"alliance_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–¢—Ä–∞–Ω—Å–∞—ç—Ä–æ"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">492</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"S7"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="s2">"3.95"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"2430"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"alliance_name"</span><span class="p">:</span><span class="s2">"OneWorld"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"S7"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">444</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"UT"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"1843"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"alliance_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–Æ–¢—ç–π—Ä"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">507</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"U6"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"average_rate"</span><span class="p">:</span><span class="s2">"3.62"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"rates"</span><span class="p">:</span><span class="s2">"1158"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"alliance_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"–£—Ä–∞–ª—å—Å–∫–∏–µ –∞–≤–∏–∞–ª–∏–Ω–∏–∏"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">503</span><span class="w">
                        </span><span class="p">}},</span><span class="w">
                    </span><span class="s2">"filters_boundary"</span><span class="p">:{</span><span class="w">
                        </span><span class="s2">"arrival_datetime_0"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">1418869200</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">1418950500</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"arrival_datetime_1"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">1419486600</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">1419554400</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"flights_duration"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">70</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">120</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"stops_count"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"0"</span><span class="p">:</span><span class="mi">4431</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"departure_time_1"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="s2">"04:30"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="s2">"22:55"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"departure_time_0"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="s2">"00:50"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="s2">"23:30"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"departure_minutes_0"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">1410</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"departure_minutes_1"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">270</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">1375</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"price"</span><span class="p">:{</span><span class="w">
                            </span><span class="s2">"min"</span><span class="p">:</span><span class="mi">4431</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"max"</span><span class="p">:</span><span class="mi">8689</span><span class="w">
                        </span><span class="p">}},</span><span class="w">
                    </span><span class="s2">"flight_numbers"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"SU30"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"SU32"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"SU31"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"SU33"</span><span class="w">
                    </span><span class="p">]],</span><span class="w">
                    </span><span class="s2">"affiliate_has_sales"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"proposals"</span><span class="p">:[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"terms"</span><span class="p">:{</span><span class="w">
                                </span><span class="s2">"20"</span><span class="p">:{</span><span class="w">
                                    </span><span class="s2">"url"</span><span class="p">:</span><span class="mi">2000000</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"unified_price"</span><span class="p">:</span><span class="mi">5867</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">5867</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"rub"</span><span class="w">
                            </span><span class="p">}},</span><span class="w">
                            </span><span class="s2">"sign"</span><span class="p">:</span><span class="s2">"7573ea707c2ff84b243241961412ed34"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"segment"</span><span class="p">:[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="s2">"flight"</span><span class="p">:[</span><span class="w">
                                </span><span class="p">{</span><span class="w">
                                    </span><span class="s2">"arrival"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"aircraft"</span><span class="p">:</span><span class="s2">"AIRBUS A320"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"local_departure_timestamp"</span><span class="p">:</span><span class="mi">1434588600</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"operating_carrier"</span><span class="p">:</span><span class="s2">"UT"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"duration"</span><span class="p">:</span><span class="mi">85</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"local_arrival_timestamp"</span><span class="p">:</span><span class="mi">1432549200</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"departure_date"</span><span class="p">:</span><span class="s2">"2015-05-25"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"departure_time"</span><span class="p">:</span><span class="s2">"11:00"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"arrival_date"</span><span class="p">:</span><span class="s2">"2015-05-25"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"arrival_time"</span><span class="p">:</span><span class="s2">"12:25"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"delay"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"departure"</span><span class="p">:</span><span class="s2">"VKO"</span><span class="p">,</span><span class="w">
                                    </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">369</span><span class="w">
                            </span><span class="p">}]},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"flight"</span><span class="p">:[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="s2">"arrival"</span><span class="p">:</span><span class="s2">"DME"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"aircraft"</span><span class="p">:</span><span class="s2">"AIRBUS A320"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"local_departure_timestamp"</span><span class="p">:</span><span class="mi">1434588600</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"operating_carrier"</span><span class="p">:</span><span class="s2">"SU"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"duration"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"local_arrival_timestamp"</span><span class="p">:</span><span class="mi">1432549200</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"departure_date"</span><span class="p">:</span><span class="s2">"2015-06-18"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"departure_time"</span><span class="p">:</span><span class="s2">"10:05"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"arrival_date"</span><span class="p">:</span><span class="s2">"2015-06-18"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"arrival_time"</span><span class="p">:</span><span class="s2">"11:35"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"delay"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"departure"</span><span class="p">:</span><span class="s2">"LED"</span><span class="p">,</span><span class="w">
                                </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">6131</span><span class="w">
                        </span><span class="p">}]}]},</span><span class="w">
                   </span><span class="p">]}],</span><span class="w">
            </span><span class="s2">"validating_carrier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SU"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"_ga"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="s2">"4bb635b9353a1e933907d41841e23414"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_id"</span><span class="p">:</span><span class="s2">"c9c6de8c-3fb4-404e-b88c-e9e0a605f183"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="s2">"search_id"</span><span class="p">:</span><span class="s2">"c9c6de8c-3fb4-404e-b88c-e9e0a605f183"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>The response includes the data:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>search_id</td>
<td>-</td>
<td>unique identifier for the search query</td>
</tr>
<tr>
<td>flight_numbers</td>
<td>-</td>
<td>numbers of the flight</td>
</tr>
<tr>
<td>meta</td>
<td>-</td>
<td><li><strong>gates</strong> - information about phases of gates in the search process; </li> <li><strong>good_count</strong> - number of relevant tickets (if the agency has returned the ticket for the wrong dates or they are misspelled, they are filtered out by the system); </li><li><strong>count</strong> - number of tickets uploaded from the agency; </li> <li><strong>duration</strong> - processing time of request; </li><li> <strong>id</strong> - ID agency;</li> <li><strong>error</strong> - error information; </li> <li><strong>tos</strong> -content of error.</li></td>
</tr>
<tr>
<td>uuid</td>
<td>-</td>
<td>request ID;</td>
</tr>
<tr>
<td>city_distance</td>
<td>-</td>
<td>distance between the cities of origin and destination;</td>
</tr>
<tr>
<td>gates_info</td>
<td>-</td>
<td>information about the agent (Ticket Seller): <li><strong>currency_code</strong> - payment currency code;</li><li> <strong>is_airline</strong> - is an airline;</li><li> <strong>average_rate</strong> - average rating of agencies;</li><li> <strong>rates</strong> - rating agency (count voters);</li><li> <strong>mobile_version</strong> - having a mobile version of the site;</li> <li><strong>productivity</strong> - productivity;</li><li> <strong>airline_iatas</strong> - IATA airline code, if the gate sells tickets;</li><li> <strong>payment_methods</strong> - payment methods;</li> <li><strong>label</strong> - agency name.</li></td>
</tr>
<tr>
<td>signature</td>
<td>-</td>
<td>signature of request</td>
</tr>
<tr>
<td>segments</td>
<td>-</td>
<td>array data of flights (<strong>deprecated</strong>): <li><strong>destination_country</strong> - code of the country of destination;</li> <li> <strong>original_destination</strong> - code of the city of destination;</li><li> <strong>origin</strong> - origin IATA;</li><li> <strong>destination</strong> - destination IATA;</li><li> <strong>origin_country</strong> - the origin country;</li><li> <strong>date</strong> - departure date.</li></td>
</tr>
<tr>
<td>flight_numbers</td>
<td>-</td>
<td>flight numbers</td>
</tr>
<tr>
<td>airlines</td>
<td>-</td>
<td>information about the airlines: <li><strong>deeplink_site_name</strong> - address of the airline&#39;s website;</li><li> <strong>id</strong> - identification number of the airline;</li> <li> <strong>site_name</strong> - name of the airline&#39;s website;</li><li> <strong>alliance_name</strong> - alliance of the airline; </li><li><strong>average_rate</strong> - average rating;</li><li> <strong>rates</strong> - number of ratings;</li><li> <strong>deeplink_id</strong> - ID links to airline&#39;s website; </li><li><strong>name</strong> - name of airline.</li></td>
</tr>
<tr>
<td>proposals</td>
<td>-</td>
<td>an array of variants</td>
</tr>
<tr>
<td>segment</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sign</td>
<td>-</td>
<td>unique id of the ticket, to integrate information from different agencies in one ticket;</td>
</tr>
<tr>
<td>flight</td>
<td>-</td>
<td>flight details: <li><strong>departure</strong> - departure IATA code;</li><li> <strong>duration</strong> - flight duration in minutes;</li><li> <strong>departure_date</strong> - departure date (UNIX-time);</li><li> <strong>departure_time</strong> - departure time (UNIX-time);</li><li> <strong>local_departure_timestamp</strong> - local departure time in UNIX format;</li><li> <strong>arrival_time</strong> - arrival time (UNIX-time);</li><li> <strong>local_arrival_timestamp</strong> - local arrival time in UNIX format;</li><li> <strong>number</strong> - flight number. To generate a full flight number, use the number and <strong>operating_carrier parameters</strong>;</li><li> <strong>delay</strong> - duration of stop between flights (in minutes);</li><li> <strong>operating_carrier</strong> - IATA code of airline that performs the carriage;</li><li> <strong>arrival_date</strong> - arrival date;</li><li> <strong>aircraft</strong> - type of aircraft;</li><li> <strong>rating_summary</strong> - some rating information about agency or airline (can be blank);</li><li> <strong>is_bus, is_train</strong> ‚Äî true, if in this segment they do not travel by plane, but by bus or train;</li><li> <strong>arrival</strong> - IATA code of arrival.</li></td>
</tr>
<tr>
<td>terms</td>
<td>-</td>
<td>information about the flight‚Äôs cost: <li><strong>price</strong> - trip price in original currency (type listed in the field currency);</li><li> <strong>currency</strong> - currency type;</li><li> <strong>flights_baggage</strong> - the number of pieces of baggage and its weight. <em>&quot;&quot; - there is no information about baggage; false - baggage is not included in a price; {int}PC{int} - number of bags by %somevalue% kilogram. For example, 2PC23 - means two baggage pieces of 23 kg. {int} - number of bags does not matter, the total weight is limited.</em> </li> <li><strong>unified_price</strong> - price of flight in basic currency (Russian ruble);</li> <li><strong>url</strong> - code to generate links for buyers (as forming the link; see below).</li></td>
</tr>
<tr>
<td>airports</td>
<td>-</td>
<td>information about airports;</td>
</tr>
<tr>
<td>market</td>
<td>-</td>
<td>market of routes (<strong>deprecated</strong>);</td>
</tr>
<tr>
<td>initiated_at</td>
<td>-</td>
<td>date and time of search (<strong>deprecated</strong>);</td>
</tr>
<tr>
<td>open_jaw</td>
<td>-</td>
<td>true if it is part of open jaw (<strong>deprecated</strong>);</td>
</tr>
<tr>
<td>clean_marker</td>
<td>-</td>
<td>affiliate marker (<strong>deprecated</strong>);</td>
</tr>
<tr>
<td>currency</td>
<td>-</td>
<td>currency type (<strong>deprecated</strong>);</td>
</tr>
<tr>
<td>flight_info</td>
<td>-</td>
<td>information about routes: {RouteNumber} <li><strong>ontime_percent</strong> - delay persant; <em>min - min number of delay; max - max number of delay; mean - average number of delay.</em> </li><li><strong>IATA</strong> - IATA code;</li><li> <strong>city</strong> - city where airport is located;</li><li> <strong>average_rate</strong> - average rating of airport;</li><li> <strong>rates</strong> - number of ratings;</li><li> <strong>country</strong> - country where airport is located;</li><li> <strong>name</strong> - airport name;</li><li> <strong>time_zone</strong> - time zone of airport.</li></td>
</tr>
<tr>
<td>filters_boundary</td>
<td>-</td>
<td>array data for filtering: <li><strong>stops_duration</strong> - time between flights (maximum and minimum);</li><li> <strong>flights_duration</strong> - flights duration (maximum and minimum);</li><li> <strong>arrival_datetime_0</strong> - arrival datetime (maximum and minimum);</li><li> <strong>price</strong> - price of flights (maximum and minimum);</li><li> <strong>departure_time_0</strong> - departure time (maximum and minimum);</li><li> <strong>stops_count</strong> - stops count.</li></td>
</tr>
</tbody></table>

<aside class="warning">Attention! Use currency rates to convert the prices of flights to the currency you need (because the response contains the flight price in Russian rubles).</aside>
<h2 id='additional-information-in-the-response'>Additional Information in the response</h2>
<p>Some airline companies and agencies provide additional information about flights, aircraft, and onboard services. These fields and their content are described below. You may use this information on your websites or ignore it ‚Äî the main information about the tickets is given above.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>banner_info</td>
<td>-</td>
<td>service information provided by an airline company</td>
</tr>
<tr>
<td>airlines/AF/</td>
<td>-</td>
<td>information from a specific airline company (where AF is the IATA designator code): <li><strong>jets</strong> ‚Äî information about the airline company‚Äôs aircraft: <ul><li><strong>seatType</strong> ‚Äî seat type in an aircraft (Angle Lie Flat, Flat Bed ‚Äî special seat, can be transformed into a bed, etc.; Standard ‚Äî standard seat);</li> <li><strong>typeClass</strong> ‚Äî class type (Business class, Economy class);</li> <li><strong>seatWidth</strong> ‚Äî seat width (inches);</li><li> <strong>aircraft</strong> ‚Äî aircraft type; <strong>seatPitch</strong> ‚Äî distance between the seats (inches);</li><li> <strong>videoType</strong> ‚Äî video type (Overhead TV ‚Äî on a seat, located in front, On-Demand TV ‚Äî common TV, headphones are given on demand, None ‚Äî unavailable);</li><li> <strong>wifi</strong> ‚Äî Wi-Fi on-board; </li><li><strong>id</strong> ‚Äî unique aircraft ID (service parameter); </li><li><strong>powerType</strong> ‚Äî availability of an AV receptacle in a seat;</li><li> <strong>airline</strong> ‚Äî IATA designator code;</li><li> <strong>laptopPower</strong> ‚Äî availability of a notebook receptacle. </li></li></ul><li><strong>ageOfPlanes</strong> ‚Äî average age of an airline company‚Äôs aircraft;</li><li> <strong>alliance</strong> ‚Äî alliance joined by an airline company;</li><li> <strong>economyLegroom</strong> ‚Äî average distance between the seats in economy class (inches);</li><li> <strong>freeStandardCarryOn</strong> ‚Äî availability of free space for hand luggage;</li><li> <strong>infantsLapCost</strong> ‚Äî age from which a child is not considered an infant;</li><li> <strong>minorsNotTravelAloneFrom</strong> ‚Äî opportunity for minors to travel alone;</li><li> <strong>iata</strong> ‚Äî IATA designator code;</li><li> <strong>checkedBaggagePrice1st</strong> ‚Äî luggage registration cost;</li><li> <strong>baggage</strong> ‚Äî information about the luggage on a flight;</li><li> <strong>excess</strong> ‚Äî text information about restrictions for luggage transportation;</li><li> <strong>checked</strong> ‚Äî text information about the prepaid luggage weight and size, and the necessity to make an additional payment if the size exceeds the standard; </li><li><strong>carryOn</strong> ‚Äî text information about hand-luggage transportation rules;</li><li> <strong>airline</strong> ‚Äî IATA designator code; </li><li><strong>sportMusical</strong> ‚Äî rules for transporting large musical instruments and sport equipment.</li></td>
</tr>
<tr>
<td>frequentFlyerPrograms</td>
<td>-</td>
<td>loyalty program for clients</td>
</tr>
<tr>
<td>aircrafts</td>
<td>-</td>
<td>the number of aircraft owned by an airline company</td>
</tr>
<tr>
<td>carryOnStandard</td>
<td>-</td>
<td>presence of a hand-luggage transportation standard</td>
</tr>
<tr>
<td>lowcost</td>
<td>-</td>
<td>is/not a low-cost airline company</td>
</tr>
<tr>
<td>freeCheckedBag</td>
<td>-</td>
<td>opportunity for luggage transportation for free within the extent permissible</td>
</tr>
<tr>
<td>meals</td>
<td>-</td>
<td>airline company‚Äôs on-board types of menus</td>
</tr>
<tr>
<td>checkin</td>
<td>-</td>
<td>ways to register provided by an airline company: <li><strong>mobileCheckIn</strong> ‚Äî opportunity of registration using a mobile app;</li><li> <strong>seatOnlineCheckIn</strong> ‚Äî seat selection at registration;</li><li> <strong>onlineCheckInwithBag</strong> ‚Äî online luggage registration; </li> <li><strong>airline</strong> ‚Äî IATA designator code;</li><li> <strong>onlineCheckIn</strong> ‚Äî rules for online registration;</li><li> <strong>requirementOnlineCheckIn</strong> ‚Äî rules for online registration; </li><li><strong>airportCheckIn</strong> ‚Äî rules for registration in an airport;</li><li> <strong>timeBoardingGate</strong> ‚Äî time for boarding before departure; </li><li><strong>minorsNotTravelAloneTo</strong> ‚Äî age from which minors may travel without grown-ups;</li><li> <strong>pet</strong> ‚Äî information about transportation of animals by an airline company:</li><ul><li> <strong>cargo</strong> ‚Äî transportation in luggage;</li> <li><strong>baggage</strong> ‚Äî rules for transportation in luggage;</li><li> <strong>restriction</strong> ‚Äî restrictions;</li><li> <strong>documentation</strong> ‚Äî required documents;</li><li> <strong>book</strong> ‚Äî booking;</li><li> <strong>airline</strong> ‚Äî IATA designator code;</li><li> <strong>method</strong> ‚Äî type of transportation; </li><li> <strong>cabin</strong> ‚Äî information about transportation in a cabin;</li><li> <strong>kennel</strong> ‚Äî additional requirements; </li><li><strong>fee</strong> ‚Äî information about the fee for transportation of animals; </li></ul><li><strong>minor</strong>‚Äî information about the fee for minors:</li><ul><li> <strong>age</strong> ‚Äî age from which this tariff may be applied;</li><li> <strong>airline</strong> ‚Äî IATA designator code;</li><li> <strong>booking</strong> ‚Äî information about the booking;</li><li> <strong>aboutService</strong> ‚Äî information about the servicing;</li><li> <strong>flightRestriction</strong> ‚Äî information about restrictions;</li><li> <strong>fee</strong> ‚Äî tariff fee.</li></ul><li>infant - information about the tariff for infants:</li> <ul><li><strong>payInternational</strong> ‚Äî information about the tariff; <strong>exitRow</strong> ‚Äî restrictions for selection of a seat near the emergency door;</li><li> <strong>childTurnTwo</strong> ‚Äî tariff rules for transfer flights; </li><li><strong>reserveSeat</strong> ‚Äî information about seats for infants; </li><li><strong>payInfant</strong> ‚Äî payment information;</li><li> <strong>airline</strong> ‚Äî IATA designator code; </li><li><strong>baggage</strong> ‚Äî luggage in a ticket for an infant;</li><li> <strong>childRestraintDevices</strong> ‚Äî information about transportation of luggage required for an infant (baby carriage, carrying bag, etc.);</li><li> <strong>infantAmenitites</strong> ‚Äî information about additional services rendered on-board for an infant; </li><li><strong>payDomestic</strong> ‚Äî additional fee.</li></ul></td>
</tr>
</tbody></table>
<h2 id='how-to-get-a-link-to-the-agency-website'>How to get a link to the agency website</h2>
<aside class="warning">Attention! The reference to the agency's website must be received only when the user clicks the "Buy" button. Automatic collection of all links from the answer is prohibited. Violation of this rule will disable the API search for the partner. </aside>

<p>To get a link to the site of the ticket booking agencies:</p>

<ol>
<li>Send a request to the following address:
https://api.travelpayouts.com/v1/flight_searches/%search_id%/clicks/%terms.url%.json</li>
</ol>

<p>where <code>search_id</code> is the ID from the answer of the request, <code>terms.url</code> - URL parameter from the response.</p>

<ol>
<li>You will receive a response like this:</li>
</ol>

<blockquote>
<p>Response example
<code>json
{
    &quot;params&quot;: {},
    &quot;method&quot;: &quot;GET&quot;,
    &quot;url&quot;: &quot;https://www.svyaznoy.travel/?utm_source=as.ru&amp;utm_medium=cpa&amp;utm_campaign=meta_avia#MOW0906/BKK1506/A1/C0/I0/S0/22316/EK-132;EK-374/EK-373;EK-131&amp;marker=7uh46i0v2&quot;,
    &quot;gate_id&quot;: 62,
    &quot;click_id&quot;: 22135952358110
}
</code>
To move on to the booking, give your visitors a link from the parameter <code>&quot;url&quot;</code>.</p>
</blockquote>

<p>The ‚Äúlifetime‚Äù of such links is 15 minutes, after which you will need to search again for the current prices and generate a new reference to the transition.</p>

<p>In our example, this is a link of the form:</p>

<p>https://www.svyaznoy.travel/?utm_source=as.ru&amp;utm_medium=cpa&amp;utm_campaign=meta_avia#MOW0906/BKK1506/A1/C0/I0/S0/22316/EK-132;EK-374/EK-373;EK-131&amp;marker=7uh46i0v2</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="ruby">Ruby</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
  </body>
</html>
